<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Poster 1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: Arial, sans-serif;
      touch-action: none;
    }

    body {
      background: url('../Imagenes/fondo3.jpg') no-repeat center center fixed;
      background-size: cover;
    }

    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .poster-imagen {
      position: absolute;
      top: 57%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1);
      max-width: 80vw;
      max-height: 90vh;
      border: 4px solid white;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
      object-fit: contain;
      transition: transform 0.2s ease;
      touch-action: none;
      z-index: 0;
    }

    .boton-retroceder,
    .boton-home {
      position: fixed;
      width: 100px;
      height: 100px;
      border: none;
      opacity: 0
      ;
      cursor: pointer;
      z-index: 10;
    }

    .boton-retroceder {
      top: 30px;
      left: 30px;
    }

    .boton-home {
      top: 30px;
      right: 30px;
    }
  </style>
</head>
<body>

  <!-- Botones invisibles fijos -->
  <button class="boton-retroceder" onclick="window.history.back()"></button>
  <button class="boton-home" onclick="window.location.href='../index.html'"></button>

  <div class="container">
    <img id="poster" class="poster-imagen" src="../Imagenes/Posters (1).jpg" alt="Póster 1">
  </div>

  <script>
    const img = document.getElementById('poster');
    let scale = 1;
    let originX = 0;
    let originY = 0;

    // Doble clic / doble tap para zoom focal
    let lastTap = 0;

    function zoomAt(x, y, zoomFactor) {
      const rect = img.getBoundingClientRect();
      const offsetX = x - rect.left;
      const offsetY = y - rect.top;

      originX = (offsetX / rect.width) * 100;
      originY = (offsetY / rect.height) * 100;

      scale = zoomFactor;
      updateTransform();
    }

    img.addEventListener('click', (e) => {
      const now = new Date().getTime();
      if (now - lastTap < 300) {
        scale = scale === 1 ? 2 : 1;
        zoomAt(e.clientX, e.clientY, scale);
      }
      lastTap = now;
    });

    img.addEventListener('touchend', (e) => {
      const now = new Date().getTime();
      if (now - lastTap < 300 && e.changedTouches.length === 1) {
        const touch = e.changedTouches[0];
        scale = scale === 1 ? 2 : 1;
        zoomAt(touch.clientX, touch.clientY, scale);
      }
      lastTap = now;
    });

    // Zoom con scroll de mouse
    document.addEventListener('wheel', (e) => {
      e.preventDefault();
      const delta = e.deltaY > 0 ? -0.1 : 0.1;
      scale += delta;
      scale = Math.min(Math.max(1, scale), 3);
      originX = 50;
      originY = 50;
      updateTransform();
    }, { passive: false });

    // Swipe táctil para navegación
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', function (e) {
      if (e.touches.length === 1) {
        touchStartX = e.touches[0].screenX;
      }
    });

    document.addEventListener('touchend', function (e) {
      if (e.changedTouches.length === 1) {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      }
    });

    function handleSwipe() {
      const deltaX = touchEndX - touchStartX;
      if (deltaX > 50) {
        window.location.href = 'poster30.html';
      } else if (deltaX < -50) {
        window.location.href = 'poster2.html';
      }
    }

    function updateTransform() {
      img.style.transformOrigin = `${originX}% ${originY}%`;
      img.style.transform = `translate(-50%, -50%) scale(${scale})`;
    }
  </script>
</body>
</html>
